"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9010],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return s}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},p=Object.keys(e);for(a=0;a<p.length;a++)n=p[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(a=0;a<p.length;a++)n=p[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),u=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=u(e.components);return a.createElement(i.Provider,{value:t},e.children)},y={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,p=e.originalType,i=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),c=u(n),s=r,k=c["".concat(i,".").concat(s)]||c[s]||y[s]||p;return n?a.createElement(k,l(l({ref:t},m),{},{components:n})):a.createElement(k,l({ref:t},m))}));function s(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var p=n.length,l=new Array(p);l[0]=c;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var u=2;u<p;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},9488:function(e,t,n){n.r(t),n.d(t,{assets:function(){return m},contentTitle:function(){return i},default:function(){return s},frontMatter:function(){return o},metadata:function(){return u},toc:function(){return y}});var a=n(7462),r=n(3366),p=(n(7294),n(3905)),l=["components"],o={title:"Poetry \u3092\u7528\u3044\u305f Python \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210"},i=void 0,u={permalink:"/blog/2022/03/13/poetry-python-project",editUrl:"https://github.com/himeyama/www.hikari-dev.com/blog/2022-03-13-poetry-python-project.md",source:"@site/blog/2022-03-13-poetry-python-project.md",title:"Poetry \u3092\u7528\u3044\u305f Python \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210",description:"\u74b0\u5883\u69cb\u7bc9",date:"2022-03-13T00:00:00.000Z",formattedDate:"2022\u5e743\u670813\u65e5",tags:[],readingTime:2.44,truncated:!1,authors:[],frontMatter:{title:"Poetry \u3092\u7528\u3044\u305f Python \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210"},prevItem:{title:"OpenLDAP \u306e slappasswd \u3067\u751f\u6210\u3055\u308c\u308b SSHA \u3068\u306f",permalink:"/blog/2022/04/10/ssha-openldap"},nextItem:{title:"Blog \u74b0\u5883\u306e\u79fb\u884c",permalink:"/blog/2022/03/12/transfer"}},m={authorsImageUrls:[]},y=[{value:"\u74b0\u5883\u69cb\u7bc9",id:"\u74b0\u5883\u69cb\u7bc9",level:2},{value:"pyenv \u3068 Python \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",id:"pyenv-\u3068-python-\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",level:3},{value:"Poetry \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",id:"poetry-\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",level:3},{value:"Python \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210",id:"python-\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210",level:2},{value:"\u3072\u306a\u5f62\u3092\u4f5c\u6210",id:"\u3072\u306a\u5f62\u3092\u4f5c\u6210",level:3},{value:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u518d\u5229\u7528\u53ef\u80fd\u306a Python \u30b3\u30fc\u30c9\u3092\u8ffd\u52a0",id:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u518d\u5229\u7528\u53ef\u80fd\u306a-python-\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0",level:3},{value:"\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u8ffd\u52a0",id:"\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u8ffd\u52a0",level:3},{value:"\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210",id:"\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210",level:3},{value:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u914d\u5e03",id:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u914d\u5e03",level:3}],c={toc:y};function s(e){var t=e.components,n=(0,r.Z)(e,l);return(0,p.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,p.kt)("h2",{id:"\u74b0\u5883\u69cb\u7bc9"},"\u74b0\u5883\u69cb\u7bc9"),(0,p.kt)("p",null,"Python \u3068 Poetry \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u5834\u5408\u306f",(0,p.kt)("a",{parentName:"p",href:"#python-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90"},"\u30b9\u30ad\u30c3\u30d7")),(0,p.kt)("h3",{id:"pyenv-\u3068-python-\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},"pyenv \u3068 Python \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u5834\u5408\u306f",(0,p.kt)("a",{parentName:"strong",href:"#poetry-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"},"\u30b9\u30ad\u30c3\u30d7"))),(0,p.kt)("p",null,"\u53c2\u8003: ",(0,p.kt)("a",{parentName:"p",href:"https://github.com/pyenv/pyenv-installer"},"https://github.com/pyenv/pyenv-installer")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-bash"},"# \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt update\nsudo apt install make build-essential libssl-dev zlib1g-dev \\\nlibbz2-dev libreadline-dev libsqlite3-dev wget curl llvm \\\nlibncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev\n\ncurl https://pyenv.run | bash\n")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"~/.bashrc")," \u306b\u30d1\u30b9\u3092\u901a\u3059"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-bash",metastring:"title='.bashrc'",title:"'.bashrc'"},'export PATH=$PATH:~/.pyenv/bin\neval "$(pyenv init --path)"\neval "$(pyenv virtualenv-init -)"\n')),(0,p.kt)("p",null,"\u6b21\u306b Python \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3046\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-bash"},"# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u4e00\u89a7\u3092\u8868\u793a\npyenv install -l\n# Python 3.10.2 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npyenv install 3.10.2\n\n# \u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u8a2d\u5b9a\npyenv global 3.10.2\n# \u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\npyenv versions\n\n")),(0,p.kt)("h3",{id:"poetry-\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},"Poetry \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u5834\u5408\u306f",(0,p.kt)("a",{parentName:"strong",href:"#python-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90"},"\u30b9\u30ad\u30c3\u30d7"))),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-sh"},"pip install --upgrade pip\npip install poetry\n")),(0,p.kt)("h2",{id:"python-\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210"},"Python \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210"),(0,p.kt)("h3",{id:"\u3072\u306a\u5f62\u3092\u4f5c\u6210"},"\u3072\u306a\u5f62\u3092\u4f5c\u6210"),(0,p.kt)("p",null,"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092 ",(0,p.kt)("inlineCode",{parentName:"p"},"myapp")," \u3068\u3057\u3066\u3001Python \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-bash"},"poetry new myapp\n")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"pyproject.toml")," \u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8a2d\u5b9a\u3092\u8a18\u8ff0\u3059\u308b\u3002"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"./",(0,p.kt)("ul",{parentName:"li"},(0,p.kt)("li",{parentName:"ul"},"README.rst  "),(0,p.kt)("li",{parentName:"ul"},"myapp/ (Python \u306e\u30b3\u30fc\u30c9\u304c\u3042\u308b\u3068\u3053\u308d)",(0,p.kt)("ul",{parentName:"li"},(0,p.kt)("li",{parentName:"ul"},"_","_init__.py"))),(0,p.kt)("li",{parentName:"ul"},"pyproject.toml (\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb)"),(0,p.kt)("li",{parentName:"ul"},"tests/ (\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u3042\u308b\u3068\u3053\u308d)",(0,p.kt)("ul",{parentName:"li"},(0,p.kt)("li",{parentName:"ul"},"_","_init__.py"),(0,p.kt)("li",{parentName:"ul"},"test_myapp.py")))))),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"./")," \u4e0a\u3067 ",(0,p.kt)("inlineCode",{parentName:"p"},"import myapp")," \u3059\u308b\u3068\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"myapp/__init__.py")," \u304c\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3002"),(0,p.kt)("h3",{id:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u518d\u5229\u7528\u53ef\u80fd\u306a-python-\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0"},"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u518d\u5229\u7528\u53ef\u80fd\u306a Python \u30b3\u30fc\u30c9\u3092\u8ffd\u52a0"),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u4f8b: ",(0,p.kt)("inlineCode",{parentName:"p"},"myapp/")," \u4e0b\u306b ",(0,p.kt)("inlineCode",{parentName:"p"},"hoge.py")," \u3092\u4f5c\u6210\u3059\u308b\u3002")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-diff"},"  .\n  \u251c\u2500\u2500 README.rst\n  \u251c\u2500\u2500 myapp\n  \u2502   \u251c\u2500\u2500 __init__.py\n+ \u2502   \u2514\u2500\u2500 hoge.py\n  \u251c\u2500\u2500 pyproject.toml\n  \u2514\u2500\u2500 tests\n      \u251c\u2500\u2500 __init__.py\n      \u2514\u2500\u2500 test_myapp.py\n  \n  2 directories, 6 file\n")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"./")," \u4e0a\u3067 ",(0,p.kt)("inlineCode",{parentName:"p"},"from myapp import hoge")," \u3092\u3059\u308b\u3068\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"hoge.py")," \u304c\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3002"),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u4f8b: ",(0,p.kt)("inlineCode",{parentName:"p"},"hoge.py")," \u306e\u95a2\u6570\u3092\u5229\u7528\u3059\u308b"),(0,p.kt)("pre",{parentName:"blockquote"},(0,p.kt)("code",{parentName:"pre",className:"language-py",metastring:"title='myapp/hoge.py'",title:"'myapp/hoge.py'"},"def hello():\n    print('Hello, world!')\n"))),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"./")," \u4e0a\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"hello()")," \u3092\u547c\u3073\u51fa\u3057\u53ef\u80fd\u3002\u30af\u30e9\u30b9\u3082\u540c\u69d8\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-py"},">>> from myapp.hoge import hello\n>>> hello()\nHello, world!\n")),(0,p.kt)("h3",{id:"\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u8ffd\u52a0"},"\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u8ffd\u52a0"),(0,p.kt)("p",null,"\u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"poetry add")," \u3092\u5b9f\u884c\u3059\u308b\u3002\n\u524a\u9664\u306f ",(0,p.kt)("inlineCode",{parentName:"p"},"poetry remove"),"\u3002"),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u4f8b: numpy \u3092\u8ffd\u52a0"),(0,p.kt)("pre",{parentName:"blockquote"},(0,p.kt)("code",{parentName:"pre",className:"language-bash"},"poetry add numpy\n"))),(0,p.kt)("h3",{id:"\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210"},"\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210"),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"myapp")," \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u5229\u7528\u304c\u53ef\u80fd\u306b\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-bash"},"poetry build\n")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"dist/")," \u4e0b\u306b whell \u3068 tarball \u304c\u4f5c\u6210\u3055\u308c\u308b\u3002"),(0,p.kt)("p",null,"\u4f5c\u6210\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u306f pip \u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-bash"},"pip install dist/myapp-0.1.0.tar.gz\n")),(0,p.kt)("h3",{id:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u914d\u5e03"},"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u914d\u5e03"),(0,p.kt)("p",null,"(\u5f8c\u65e5\u3001\u8ffd\u8a18\u4e88\u5b9a)"))}s.isMDXComponent=!0}}]);